{"version":3,"sources":["logo.svg","components/Form.js","components/Filter.js","components/Notification.js","components/PersonRow.js","components/PersonsTable.js","services/persons.js","App.js","index.js"],"names":["module","exports","Form","newName","newNumber","onNameChange","onNumberChange","onAddClick","value","onChange","type","onClick","Filter","handleFilterChange","Notification","message","isError","defaultStyle","color","backgroundColor","fontSize","borderStyle","borderColor","borderRadius","padding","margin","errorStyle","style","PersonRow","person","onDeleteClick","name","number","PersonsTable","persons","filter","visible","map","key","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","successMessage","setSuccessMessage","errorMessage","setErrorMessage","setNewName","setNewNumber","setMessageWithTimeout","timeout","setTimeout","setErrorMessageWithTimeout","useEffect","personsService","initialPersons","catch","error","console","className","src","logo","alt","event","newFilter","target","toLowerCase","includes","newVisibility","preventDefault","newPerson","index","findIndex","element","nameAlreadyAddedMessage","window","confirm","returnedPerson","numberUpdatedMessage","status","log","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55a3d088.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.94f66043.svg\";","import React from \"react\";\n\nconst Form = ({\n  newName,\n  newNumber,\n  onNameChange,\n  onNumberChange,\n  onAddClick,\n}) => {\n  return (\n    <>\n      <form>\n        <table>\n          <tbody>\n            <tr>\n              <td>Name:</td>\n              <td>\n                <input value={newName} onChange={onNameChange} />\n              </td>\n            </tr>\n            <tr>\n              <td>Number:</td>\n              <td>\n                <input value={newNumber} onChange={onNumberChange} />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button type=\"submit\" onClick={onAddClick}>\n          Add\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nconst Filter = ({ handleFilterChange }) => {\n  return (\n    <>\n      Show results with: <input onChange={handleFilterChange} />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message, isError }) => {\n  const defaultStyle = {\n    color: \"green\",\n    backgroundColor: \"#282c34\",\n    fontSize: 24,\n    borderStyle: \"solid\",\n    borderColor: \"green\",\n    borderRadius: 5,\n    padding: 10,\n    margin: 10,\n  };\n\n  if (message) {\n    if (isError) {\n      const errorStyle = {\n        ...defaultStyle,\n        color: \"red\",\n        borderColor: \"red\",\n      };\n      return <div style={errorStyle}>{message}</div>;\n    }\n    return <div style={defaultStyle}>{message}</div>;\n  }\n  return <></>;\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst PersonRow = ({ person, onDeleteClick }) => {\n  return (\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <td>\n        <button onClick={onDeleteClick(person)}>Delete</button>\n      </td>\n    </tr>\n  );\n};\n\nexport default PersonRow;\n","import React from \"react\";\nimport PersonRow from \"./PersonRow\";\n\nconst PersonsTable = ({ persons, onDeleteClick }) => {\n  return (\n    <table>\n      <tbody>\n        {persons\n          .filter((person) => person.visible)\n          .map((person) => (\n            <PersonRow\n              key={person.id}\n              person={person}\n              onDeleteClick={onDeleteClick}\n            />\n          ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default PersonsTable;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteId = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deleteId };\n","import React, { useState, useEffect } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Form from \"./components/Form\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonsTable from \"./components/PersonsTable\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const timeout = 5000;\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n\n  const deleteHandle = ({ id, name }) => () => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personsService.deleteId(id);\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const handleFilterChange = (event) => {\n    const newFilter = event.target.value.toLowerCase();\n\n    const newVisibility = (person) => {\n      return {\n        ...person,\n        visible: person.name.toLowerCase().includes(newFilter),\n      };\n    };\n\n    setPersons(persons.map((person) => newVisibility(person)));\n  };\n\n  const setMessageWithTimeout = (message, timeout) => {\n    setSuccessMessage(message);\n    setTimeout(() => {\n      setSuccessMessage(null);\n    }, timeout);\n  };\n\n  const setErrorMessageWithTimeout = (message, timeout) => {\n    setErrorMessage(message);\n    setTimeout(() => {\n      setErrorMessage(null);\n    }, timeout);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    const index = persons.findIndex((element) => element.name === newName);\n\n    if (index !== -1) {\n      const nameAlreadyAddedMessage = `${newName} already added! Do you want to replace phone number?`;\n\n      if (window.confirm(nameAlreadyAddedMessage)) {\n        personsService\n          .update(persons[index].id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== persons[index].id\n                  ? person\n                  : { ...returnedPerson, visible: true }\n              )\n            );\n            const numberUpdatedMessage = `${returnedPerson.name} phone number updated`;\n            setMessageWithTimeout(numberUpdatedMessage, timeout);\n          })\n          .catch((error) => {\n            if (error.response.status === 400) {\n              setErrorMessageWithTimeout(error.response.data.error, timeout);\n            } else {\n              console.log(error);\n              setPersons(\n                persons.filter((person) => person.id !== persons[index].id)\n              );\n              setErrorMessageWithTimeout(\n                `${newName} has already been deleted`,\n                timeout\n              );\n            }\n          });\n      }\n    } else {\n      personsService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat({ ...returnedPerson, visible: true }));\n          setMessageWithTimeout(`${returnedPerson.name} added`, timeout);\n        })\n        .catch((error) =>\n          setErrorMessageWithTimeout(error.response.data.error, timeout)\n        );\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((initialPersons) =>\n        setPersons(\n          initialPersons.map((person) => ({ ...person, visible: true }))\n        )\n      )\n      .catch((error) => console.error(error));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <h1>Phonebook</h1>\n        <Notification message={successMessage} isError={false} />\n        <Notification message={errorMessage} isError={true} />\n        <Filter handleFilterChange={handleFilterChange} />\n        <h3>Add new</h3>\n        <Form\n          onNameChange={handleNameChange}\n          onNumberChange={handleNumberChange}\n          onAddClick={handleSubmit}\n          newName={newName}\n          newNumber={newNumber}\n        />\n        <h3>Numbers</h3>\n        <PersonsTable persons={persons} onDeleteClick={deleteHandle} />\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}